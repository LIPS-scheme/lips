<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-scheme-intro/input-output" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.0">
<title data-rh="true">Input and Output | LIPS Scheme</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lips.js.org/img/lips-social-card.png"><meta data-rh="true" name="twitter:image" content="https://lips.js.org/img/lips-social-card.png"><meta data-rh="true" property="og:url" content="https://lips.js.org/docs/scheme-intro/input-output"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Input and Output | LIPS Scheme"><meta data-rh="true" name="description" content="How to read/write files and how to interact with stdin/stdout"><meta data-rh="true" property="og:description" content="How to read/write files and how to interact with stdin/stdout"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lips.js.org/docs/scheme-intro/input-output"><link data-rh="true" rel="alternate" href="https://lips.js.org/docs/scheme-intro/input-output" hreflang="en"><link data-rh="true" rel="alternate" href="https://lips.js.org/docs/scheme-intro/input-output" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HSV6UC2UY5-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="LIPS Scheme blog RSS Feed"><link rel="stylesheet" href="/assets/css/styles.55f96077.css">
<script src="/assets/js/runtime~main.30d38a9d.js" defer="defer"></script>
<script src="/assets/js/main.3e670244.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/"><div class="navbar__logo"><img src="/img/logo-black.svg" alt="LIPS Scheme Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-white.svg" alt="LIPS Scheme Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Scheme</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/reference">Reference</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://twitter.com/LIPS_scheme" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Twitter/X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://gitter.im/jcubic/lips" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/LIPS-scheme/lips" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/introduction-to-scheme">Introduction to Scheme</a><button aria-label="Collapse sidebar category &#x27;Introduction to Scheme&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scheme-intro/what-is-lisp">What is Lisp and Scheme?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scheme-intro/data-types">Data Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scheme-intro/core">Core of Scheme</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/scheme-intro/input-output">Input and Output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scheme-intro/macros">Macros</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scheme-intro/streams">Streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scheme-intro/continuations">Continuations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/scheme-intro/next-step">What Next?</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/lips-introduction">LIPS introduction</a><button aria-label="Expand sidebar category &#x27;LIPS introduction&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/introduction-to-scheme"><span itemprop="name">Introduction to Scheme</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Input and Output</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Input and Output</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="standard-output">Standard output<a href="#standard-output" class="hash-link" aria-label="Direct link to Standard output" title="Direct link to Standard output">​</a></h2>
<p>The standard output is everything you print on the screen. Often <a href="https://en.wikipedia.org/wiki/Computer_terminal" target="_blank" rel="noopener noreferrer">computer
terminal</a> or a <a href="https://en.wikipedia.org/wiki/Terminal_emulator" target="_blank" rel="noopener noreferrer">terminal
emulator</a> that display so called
<a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop" target="_blank" rel="noopener noreferrer">REPL</a>.</p>
<p>To print anything on the screen, you use <code>(write x)</code> or <code>(display x)</code> and <code>(newline)</code> functions.</p>
<p>There is also a function that write single character <code>(write-char x)</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="standard-input">Standard input<a href="#standard-input" class="hash-link" aria-label="Direct link to Standard input" title="Direct link to Standard input">​</a></h2>
<p>The standard input is a way to get stuff from the user. Scheme provide one function for this which
is <code>read</code>. The function wait for the user to type something and return single
<a href="/docs/scheme-intro/what-is-lisp#s-expressions">S-Expression</a>.</p>
<p>Example:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token name">list</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After this, the Scheme interpreter will pause and wait for the input from user. If user type <code>(1 2 3)</code> (you don&#x27;t need to quote), and press enter, the read expression will return that list and Scheme
will define a variable named list and assign that list to that symbol.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reading-single-character">Reading single character<a href="#reading-single-character" class="hash-link" aria-label="Direct link to Reading single character" title="Direct link to Reading single character">​</a></h3>
<p>You also have functions that operate on single characters:</p>
<ul>
<li><code>(read-char)</code></li>
<li><code>(peek-char)</code></li>
</ul>
<p>You can check if there are more characters in the stream by using <code>(eof-object? x)</code> predicate. <code>eof</code> is
a special object that indicate the end of file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reading-single-line">Reading single line<a href="#reading-single-line" class="hash-link" aria-label="Direct link to Reading single line" title="Direct link to Reading single line">​</a></h3>
<p>Scheme define function <code>(read-line)</code> that reads whole line.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ports">Ports<a href="#ports" class="hash-link" aria-label="Direct link to Ports" title="Direct link to Ports">​</a></h2>
<p>Ports are a thing in Scheme that allows to write into and read from. By default, <code>read</code> read from
standard input, and <code>write</code>, <code>display</code>, and <code>newline</code> writes to standard output. But all those
functions accept an argument which allow to change the port to which it&#x27;s writing or reading.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-input-port">Standard input port<a href="#standard-input-port" class="hash-link" aria-label="Direct link to Standard input port" title="Direct link to Standard input port">​</a></h3>
<p>To get standard input as a port object, you can use:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">current-input-port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; #&lt;input-port&gt;</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The representation of the input port object can change depending on Scheme implementation.</p>
<p>You can use this port as optional argument in read:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token name">list</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">current-input-port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will make the same effect as just <code>(read)</code>. But note that you can change current input port, by
different mechanism built into Scheme.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="standard-output-port">Standard output port<a href="#standard-output-port" class="hash-link" aria-label="Direct link to Standard output port" title="Direct link to Standard output port">​</a></h3>
<p>To get standard output as object you can use:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">current-output-port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; #&lt;output-port&gt;</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Same as with input port the representation of this object can be different depending on the Scheme implementation.</p>
<p>You can use this port with <code>write</code>, <code>display</code>, or <code>newline</code>:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">print</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">current-output-port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> x </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If called at top level this function will have the same effect as:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">print</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Same as with input port you can change the current output port by different Scheme expressions.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="predicates-that-test-if-object-is-port">Predicates that test if object is port<a href="#predicates-that-test-if-object-is-port" class="hash-link" aria-label="Direct link to Predicates that test if object is port" title="Direct link to Predicates that test if object is port">​</a></h2>
<p>You have function that check if something is input port:</p>
<ul>
<li><code>(input-port? x)</code></li>
</ul>
<p>Or if something is output port:</p>
<ul>
<li><code>(output-port? x)</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="writing-to-a-file">Writing to a file<a href="#writing-to-a-file" class="hash-link" aria-label="Direct link to Writing to a file" title="Direct link to Writing to a file">​</a></h2>
<p>To write to a file first you need to have an open output port that points into a file. You can open file as output port with:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">open-output-file</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test.scm&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello world&quot;</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">close-output-port</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You need to remember to close the port to make sure that the data was properly written to the file. Some Scheme implementation
may decide to flush the buffer (write to a file) when you close the port.</p>
<p>You can use a helper procedure that closes the port automatically:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">call-with-output-file</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test-2.scm&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;there&quot;</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The output file will contain two files that have two literal strings (with quotes because right was used).</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&quot;there&quot;</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reading-from-a-file">Reading from a file<a href="#reading-from-a-file" class="hash-link" aria-label="Direct link to Reading from a file" title="Direct link to Reading from a file">​</a></h2>
<p>To read from a file you first need to open input port that points to a file. You can open input port with:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">open-input-file</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test-2.scm&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">close-input-port</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; hello there</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If you first evaluated the code that writes into a file <code>test-2.scm</code> you should see same string that
was written into it. Note that <code>read</code> was called two times and read two expressions (two strings).</p>
<p>Same as with output-port you need to call <code>close-input-port</code> procedure to close the input port. But
Scheme, same as with output port have handy function that allow to close the port automagically.</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">call-with-input-file</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test.scm&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; &quot;hello world&quot;</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reading-whole-file">Reading whole file<a href="#reading-whole-file" class="hash-link" aria-label="Direct link to Reading whole file" title="Direct link to Reading whole file">​</a></h2>
<p>In specification there are no procedure that reads whole file as a string. But you can easily write such procedure.</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read-file</span><span class="token plain"> </span><span class="token name">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">call-with-input-file</span><span class="token plain"> </span><span class="token name">file</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token name">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">char</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">read-char</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">result</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">eof-object?</span><span class="token plain"> </span><span class="token name">char</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">apply</span><span class="token plain"> </span><span class="token name">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">reverse</span><span class="token plain"> </span><span class="token name">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">read-char</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">cons</span><span class="token plain"> </span><span class="token name">char</span><span class="token plain"> </span><span class="token name">result</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read-file</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test-2.scm&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; &quot;hello&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; &quot;there&quot;</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The same you can create a procedure that reads all lines from text as list of strings:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read-lines</span><span class="token plain"> </span><span class="token name">filename</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">call-with-input-file</span><span class="token plain"> </span><span class="token name">filename</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">line</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token name">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">result</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">set!</span><span class="token plain"> </span><span class="token name">line</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">read-line</span><span class="token plain"> </span><span class="token name">file</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">eof-object?</span><span class="token plain"> </span><span class="token name">line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token name">result</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">append</span><span class="token plain"> </span><span class="token name">result</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">list</span><span class="token plain"> </span><span class="token name">line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read-lines</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test-2.scm&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; (&quot;hello&quot; &quot;there&quot;)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="writing-lines-to-file">Writing lines to file<a href="#writing-lines-to-file" class="hash-link" aria-label="Direct link to Writing lines to file" title="Direct link to Writing lines to file">​</a></h2>
<p>There are no procedure that write a string as a line into a port, but you can define one:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write-line</span><span class="token plain"> </span><span class="token name">str</span><span class="token plain"> . </span><span class="token name">rest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">null?</span><span class="token plain"> </span><span class="token name">rest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">current-output-port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">car</span><span class="token plain"> </span><span class="token name">rest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token name">str</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can use this function to write a list of strings as lines into a file:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write-lines</span><span class="token plain"> </span><span class="token name">lst</span><span class="token plain"> . </span><span class="token name">rest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token name">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">lst</span><span class="token plain"> </span><span class="token name">lst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">unless</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">null?</span><span class="token plain"> </span><span class="token name">lst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">apply</span><span class="token plain"> </span><span class="token name">write-line</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">car</span><span class="token plain"> </span><span class="token name">lst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> . </span><span class="token name">rest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">cdr</span><span class="token plain"> </span><span class="token name">lst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can simplify this function by using <code>for-each</code> higher order procedure.</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write-lines</span><span class="token plain"> </span><span class="token name">lst</span><span class="token plain"> . </span><span class="token name">rest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">for-each</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">line</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">apply</span><span class="token plain"> </span><span class="token name">write-line</span><span class="token plain"> </span><span class="token name">line</span><span class="token plain"> </span><span class="token name">rest</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token name">lst</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can use this with <code>call-with-output-file</code>:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">call-with-output-file</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test-3.scm&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">beatles</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;John Lennon&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                     </span><span class="token string" style="color:#e3116c">&quot;Paul McCartney&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                     </span><span class="token string" style="color:#e3116c">&quot;Ringo Starr&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                     </span><span class="token string" style="color:#e3116c">&quot;George Harrison&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write-lines</span><span class="token plain"> </span><span class="token name">beatles</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read-lines</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;test-3.scm&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; (&quot;John Lennon&quot; &quot;Paul McCartney&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt;  &quot;Ringo Starr&quot; &quot;George Harrison&quot;)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can also write to standard output when you omit the port:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">beatles</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;John Lennon&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;Paul McCartney&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;Ringo Starr&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;George Harrison&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write-lines</span><span class="token plain"> </span><span class="token name">beatles</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; John Lennon</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; Paul McCartney</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; Ringo Starr</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; George Harrison</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="string-ports">String ports<a href="#string-ports" class="hash-link" aria-label="Direct link to String ports" title="Direct link to String ports">​</a></h2>
<p>You can also create ports as strings. You can use standard functions as with file I/O and stdin/stdout.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string-output-port">String Output Port<a href="#string-output-port" class="hash-link" aria-label="Direct link to String Output Port" title="Direct link to String Output Port">​</a></h3>
<p>Output string port act as a <a href="https://en.wikipedia.org/wiki/Data_buffer" target="_blank" rel="noopener noreferrer">buffer</a>. You can also use to to get string
representation of different objects as a value.</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">open-output-string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">beatles</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">&#x27;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;John Lennon&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;Paul McCartney&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;Ringo Starr&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">                 </span><span class="token string" style="color:#e3116c">&quot;George Harrison&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write-lines</span><span class="token plain"> </span><span class="token name">beatles</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">write</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">get-output-string</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">close-output-port</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; &quot;John Lennon</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; Paul McCartney</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; Ringo Starr</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; George Harrison</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; &quot;</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This prints a multi line string because <code>write</code> was used. Procedure <code>get-output-string</code> can be used
to get the output string.</p>
<p>And same as before you can use <code>call-with-port</code> to close the port after use:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">call-with-port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">open-output-string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;there&quot;</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">get-output-string</span><span class="token plain"> p</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; &quot;hello there&quot;</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="string-input-port">String Input Port<a href="#string-input-port" class="hash-link" aria-label="Direct link to String Input Port" title="Direct link to String Input Port">​</a></h3>
<p>String input port can be used to parse expressions (to get Scheme representation of data that is given
as a string literal inside the code.</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">open-input-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;(1 2 3 4) (5 6 7 8)&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">close-input-port</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; (1 2 3 4)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; (5 6 7 8)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And same as with output port you can atomagically close the port after use with <code>call-with-port</code>.</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">call-with-port</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">open-input-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;100 10+10i&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token lambda-parameter">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token plain"> </span><span class="token name">port</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; 1/100</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; 1/20-1/20i</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Some scheme implementations have <code>with-input-from-string</code> procedure:</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">with-input-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10 (1 2 3 4)&quot;</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; &quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">display</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">newline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; 10 (1 2 3 4)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Procedure <code>with-input-from-string</code> changes the current-input-port so you can use <code>read</code> without an
argument.</p>
<p>Another useful procedure that some Scheme implementations have is <code>read-all</code>. It read all the
S-Expressions from a port and return them as a list.</p>
<div><div><pre tabindex="0"><code><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">with-input-from-string</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1 2 3 4&quot;</span><span class="token plain"> </span><span class="token name">read-all</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span>
</span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">;; ==&gt; (1 2 3 4)</span>
</span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_FhaS" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_phi_"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_FfTR"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/LIPS-scheme/lips/tree/master/docs/docs/scheme-intro/input-output.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/scheme-intro/core"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Core of Scheme</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/scheme-intro/macros"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Macros</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#standard-output" class="table-of-contents__link toc-highlight">Standard output</a></li><li><a href="#standard-input" class="table-of-contents__link toc-highlight">Standard input</a><ul><li><a href="#reading-single-character" class="table-of-contents__link toc-highlight">Reading single character</a></li><li><a href="#reading-single-line" class="table-of-contents__link toc-highlight">Reading single line</a></li></ul></li><li><a href="#ports" class="table-of-contents__link toc-highlight">Ports</a><ul><li><a href="#standard-input-port" class="table-of-contents__link toc-highlight">Standard input port</a></li><li><a href="#standard-output-port" class="table-of-contents__link toc-highlight">Standard output port</a></li></ul></li><li><a href="#predicates-that-test-if-object-is-port" class="table-of-contents__link toc-highlight">Predicates that test if object is port</a></li><li><a href="#writing-to-a-file" class="table-of-contents__link toc-highlight">Writing to a file</a></li><li><a href="#reading-from-a-file" class="table-of-contents__link toc-highlight">Reading from a file</a></li><li><a href="#reading-whole-file" class="table-of-contents__link toc-highlight">Reading whole file</a></li><li><a href="#writing-lines-to-file" class="table-of-contents__link toc-highlight">Writing lines to file</a></li><li><a href="#string-ports" class="table-of-contents__link toc-highlight">String ports</a><ul><li><a href="#string-output-port" class="table-of-contents__link toc-highlight">String Output Port</a></li><li><a href="#string-input-port" class="table-of-contents__link toc-highlight">String Input Port</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/scheme-intro/what-is-lisp">Introduction to Scheme</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/lips-introduction">LIPS Scheme Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gitter.im/jcubic/lips" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/LIPS_scheme" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog/archive">Blog</a></li><li class="footer__item"><a href="https://github.com/LIPS-scheme/lips" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright (c) 2018-2024 <a href="https://jakub.jankiewicz.org">Jakub T. Jankiewicz</a><br>Website content licensed with <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> unless noted otherwise.</div><a href="https://notbyai.fyi" aria-label="Created not by AI"><svg width="131" height="42" viewBox="0 0 131 42" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M.5.5H116c8.008 0 14.5 6.492 14.5 14.5v26.5H15C6.992 41.5.5 35.008.5 27V.5Z" fill="#000" stroke="#ACACAC"></path><path d="M17.96 24.157a9.446 9.446 0 0 0 11.89 0l-1.34-1.654a7.316 7.316 0 0 1-9.21 0l-1.34 1.654ZM19.404 20.513v-2.877h2.13v2.877h-2.13ZM26.012 17.637v2.876h2.13v-2.877h-2.13Z" fill="#fff"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M35 21.5C35 27.851 29.851 33 23.5 33S12 27.851 12 21.5 17.149 10 23.5 10 35 15.149 35 21.5Zm-2.13 0a9.37 9.37 0 1 1-18.74 0 9.37 9.37 0 0 1 18.74 0Z" fill="#fff"></path><path d="M48.29 22.178c.99 0 1.798.263 2.425.79.632.52.949 1.388.949 2.601v6.516h-2.566V26.2c0-.509-.067-.9-.202-1.171-.246-.497-.715-.746-1.406-.746-.85 0-1.432.364-1.748 1.092-.164.385-.247.876-.247 1.474v5.237H43v-9.658h2.416v1.411c.323-.497.627-.855.914-1.074.516-.39 1.169-.586 1.96-.586ZM57.56 30.3c.733 0 1.295-.263 1.688-.79.392-.526.588-1.275.588-2.245 0-.97-.196-1.716-.588-2.237-.393-.527-.955-.79-1.688-.79-.732 0-1.297.263-1.695.79-.393.52-.59 1.266-.59 2.237 0 .97.197 1.719.59 2.246.398.526.963.79 1.695.79Zm4.903-3.035c0 1.42-.404 2.636-1.212 3.648-.808 1.006-2.036 1.51-3.682 1.51s-2.873-.504-3.681-1.51c-.809-1.012-1.213-2.228-1.213-3.648 0-1.397.404-2.607 1.213-3.631.808-1.024 2.035-1.536 3.681-1.536s2.873.512 3.682 1.536c.808 1.024 1.212 2.234 1.212 3.63ZM62.56 24.3v-1.802h1.336v-2.699h2.478v2.699h1.556V24.3h-1.556v5.113c0 .397.05.645.15.746.1.094.404.142.913.142h.238l.255-.018v1.89l-1.187.045c-1.183.042-1.991-.165-2.425-.621-.281-.29-.422-.737-.422-1.34V24.3h-1.335ZM77.602 22.196c1.26 0 2.244.458 2.952 1.376.715.917 1.072 2.1 1.072 3.55 0 1.504-.351 2.75-1.054 3.738-.703.988-1.684 1.483-2.944 1.483-.79 0-1.426-.16-1.906-.48-.287-.19-.598-.52-.932-.994v1.216H72.34V19.018h2.495v4.651c.316-.45.665-.793 1.046-1.03.45-.295 1.025-.443 1.722-.443Zm-.641 8.06c.644 0 1.145-.263 1.502-.79.358-.526.536-1.219.536-2.077 0-.686-.088-1.255-.263-1.704-.334-.853-.95-1.279-1.846-1.279-.908 0-1.531.418-1.871 1.252-.176.444-.264 1.018-.264 1.722 0 .829.182 1.515.545 2.06.363.544.917.816 1.66.816ZM83.094 33.94l.317.018a3.9 3.9 0 0 0 .703-.026c.222-.03.41-.098.562-.205.147-.1.281-.31.404-.63.13-.32.182-.515.159-.586L81.724 22.41h2.785l2.091 7.137 1.977-7.137h2.663l-3.286 9.516c-.633 1.835-1.134 2.971-1.503 3.41-.369.443-1.107.665-2.214.665-.223 0-.401-.003-.536-.009-.135 0-.337-.009-.606-.026V33.94ZM97.783 27.14h3.286l-1.617-5.148-1.669 5.148ZM97.95 19h3.058l4.586 13.085h-2.934l-.835-2.69h-4.771l-.897 2.69h-2.829L97.95 19ZM110.59 32.085h-2.688V19h2.688v13.085Z" fill="#fff"></path><path d="M106.306 19H112v2.226h-5.694V19ZM106.306 29.862H112v2.226h-5.694v-2.226ZM42.975 9.896l1.02 3.97 1.035-3.97h1l1.04 3.947 1.084-3.947h.892l-1.54 5.039h-.926l-1.08-3.9-1.044 3.9h-.926L42 9.896h.975ZM49.816 9.896h.846v.87c.07-.169.24-.374.51-.616a1.354 1.354 0 0 1 1.02-.362l.203.019v.893a1.378 1.378 0 0 0-.292-.023c-.449 0-.794.138-1.035.414-.24.273-.361.588-.361.946v2.898h-.891V9.896ZM53.066 9.92h.906v5.015h-.906V9.919Zm0-1.896h.906v.96h-.906v-.96ZM55.4 8.49h.902v1.406h.846v.692h-.846v3.288c0 .176.063.293.188.353.07.035.185.052.347.052h.138c.05-.003.108-.008.173-.014v.668c-.102.028-.21.048-.321.06a3.114 3.114 0 0 1-.357.02c-.416 0-.698-.1-.846-.302-.149-.203-.223-.467-.223-.79v-3.335h-.718v-.692h.718V8.489ZM58.121 8.49h.902v1.406h.846v.692h-.846v3.288c0 .176.062.293.188.353.07.035.185.052.346.052h.139c.05-.003.107-.008.173-.014v.668c-.102.028-.21.048-.322.06a3.115 3.115 0 0 1-.356.02c-.416 0-.698-.1-.847-.302-.148-.203-.223-.467-.223-.79v-3.335h-.717v-.692h.717V8.489ZM62.872 9.783c.377 0 .741.085 1.095.254.353.166.622.383.807.65.178.253.297.55.356.889.053.232.08.602.08 1.11h-3.887c.016.511.143.922.38 1.232.238.308.606.462 1.105.462.465 0 .837-.146 1.114-.438.158-.17.27-.365.337-.588h.876c-.023.185-.1.392-.233.62a2.113 2.113 0 0 1-1.44 1.063 3.21 3.21 0 0 1-.728.076c-.66 0-1.22-.227-1.679-.682-.459-.458-.688-1.097-.688-1.92 0-.808.231-1.465.693-1.97.462-.505 1.066-.758 1.812-.758Zm1.421 2.23c-.036-.367-.12-.66-.252-.88-.244-.407-.652-.611-1.223-.611-.41 0-.753.14-1.03.423-.277.28-.424.635-.44 1.068h2.945ZM66.207 9.896h.847v.715c.25-.295.516-.507.797-.635a2.22 2.22 0 0 1 .936-.193c.752 0 1.26.25 1.525.748.145.273.218.663.218 1.172v3.232h-.907v-3.176c0-.307-.047-.555-.143-.743-.159-.314-.446-.47-.862-.47-.21 0-.384.02-.52.06a1.344 1.344 0 0 0-.643.414 1.25 1.25 0 0 0-.292.518 3.39 3.39 0 0 0-.065.757v2.64h-.89V9.896ZM74.401 8h.867v2.508c.195-.242.427-.425.698-.55.27-.13.565-.194.881-.194.66 0 1.195.217 1.605.65.412.43.618 1.064.618 1.905 0 .796-.202 1.458-.608 1.985-.407.527-.97.79-1.689.79-.402 0-.742-.092-1.02-.277-.165-.11-.341-.285-.53-.527v.645h-.822V8Zm2.318 6.347c.482 0 .841-.182 1.08-.546.24-.364.36-.844.36-1.44 0-.53-.12-.969-.36-1.317-.239-.348-.59-.522-1.056-.522-.405 0-.762.142-1.069.428-.304.285-.456.756-.456 1.411 0 .474.063.858.189 1.153.234.555.671.833 1.312.833ZM83.326 9.896h.986c-.126.323-.405 1.06-.837 2.211-.324.866-.594 1.572-.812 2.117-.515 1.286-.878 2.07-1.09 2.353-.21.282-.574.423-1.089.423-.125 0-.223-.005-.292-.014a2.452 2.452 0 0 1-.247-.052v-.771c.155.04.267.065.336.075.07.01.13.014.183.014.165 0 .286-.027.362-.08a.69.69 0 0 0 .198-.188 22.88 22.88 0 0 0 .401-.903l-1.96-5.185h1.01l1.42 4.102 1.431-4.102ZM87.703 8h.891v2.578c.212-.254.402-.433.57-.536.287-.179.645-.268 1.074-.268.77 0 1.29.255 1.565.767.148.279.223.666.223 1.162v3.232h-.916v-3.176c0-.37-.05-.641-.149-.814-.162-.276-.465-.414-.91-.414-.37 0-.706.12-1.006.362-.3.242-.45.698-.45 1.37v2.672h-.892V8ZM94.138 9.896v3.345c0 .257.042.467.128.63.159.301.454.452.886.452.621 0 1.043-.263 1.268-.79.122-.283.183-.67.183-1.162V9.896h.891v5.039h-.841l.01-.744c-.116.192-.26.353-.431.485-.34.263-.753.395-1.238.395-.756 0-1.27-.24-1.545-.72-.148-.257-.222-.6-.222-1.03V9.896h.91ZM98.79 9.896h.88v.715c.212-.248.403-.428.575-.541a1.792 1.792 0 0 1 1-.287c.423 0 .763.099 1.02.296.145.113.277.28.396.5.198-.27.431-.47.698-.598.268-.132.568-.198.901-.198.713 0 1.199.245 1.456.734.139.263.208.618.208 1.063v3.355h-.926v-3.5c0-.336-.089-.567-.267-.692a1.077 1.077 0 0 0-.644-.188c-.35 0-.652.111-.906.334-.251.222-.376.594-.376 1.115v2.93h-.906v-3.288c0-.342-.043-.591-.129-.748-.135-.235-.388-.353-.758-.353-.336 0-.643.124-.921.372-.274.248-.41.696-.41 1.345v2.673h-.892V9.896ZM107.818 13.594c0 .245.094.437.282.579.188.14.411.211.669.211.313 0 .617-.069.911-.207.495-.229.742-.604.742-1.124v-.682c-.109.066-.249.12-.421.164-.171.044-.34.076-.505.094l-.539.066c-.324.041-.566.105-.728.193-.274.148-.411.383-.411.706Zm2.159-1.713c.204-.025.341-.106.411-.244a.72.72 0 0 0 .059-.325c0-.288-.109-.497-.327-.626-.214-.131-.523-.197-.926-.197-.465 0-.795.119-.99.357-.109.132-.18.328-.213.588h-.832c.017-.62.228-1.052.634-1.293.409-.245.883-.367 1.421-.367.624 0 1.131.113 1.52.338.386.226.579.578.579 1.054v2.903c0 .088.019.158.055.212.04.053.12.08.243.08.039 0 .084-.002.133-.005a3.93 3.93 0 0 0 .159-.024v.626a2.661 2.661 0 0 1-.317.07c-.073.01-.172.015-.297.015-.307 0-.53-.104-.669-.31a1.156 1.156 0 0 1-.153-.466c-.182.225-.443.421-.783.588-.339.166-.714.249-1.123.249-.492 0-.895-.141-1.209-.423a1.392 1.392 0 0 1-.465-1.068c0-.468.154-.83.461-1.087.306-.257.709-.416 1.208-.475l1.421-.17ZM112.678 9.896h.846v.715c.251-.295.517-.507.797-.635.281-.129.593-.193.936-.193.753 0 1.261.25 1.525.748.145.273.218.663.218 1.172v3.232h-.906v-3.176c0-.307-.048-.555-.144-.743-.158-.314-.445-.47-.861-.47-.211 0-.385.02-.52.06a1.347 1.347 0 0 0-.644.414 1.253 1.253 0 0 0-.292.518c-.043.175-.064.428-.064.757v2.64h-.891V9.896Z" fill="#fff"></path></svg></a></div></div><script>var owa_baseUrl="https://stats.jcubic.pl/",owa_cmds=owa_cmds||[];owa_cmds.push(["setSiteId","922150e605063a8580e17047ffbf3ec2"]),owa_cmds.push(["trackPageView"]),owa_cmds.push(["trackClicks"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,owa_baseUrl="https:"==document.location.protocol?window.owa_baseSecUrl||owa_baseUrl.replace(/http:/,"https:"):owa_baseUrl,e.src=owa_baseUrl+"modules/base/js/owa.tracker-combined-min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a)}()</script><script>var _paq=_paq||[];_paq.push(["setTrackingSource","jstc_tm"]),_paq.push(["enableLinkTracking"]),_paq.push(["setIpTracking",!0]),_paq.push(["setDomains",["lips.js.org"]]),_paq.push(["trackPageView"]),_paq.push(["enableJSErrorTracking"]),function(p,e,a,s){var t=s.createElement("script"),r=s.getElementsByTagName("script")[0];_paq.push(["setTrackerUrl","https://jcubic.piwik.pro/ppms.php"]),_paq.push(["setSiteId","018719ec-6793-4a2d-92f9-b8b88a01d43c"]),t.type="text/javascript",t.async=!0,t.defer=!0,t.src="https://jcubic.containers.piwik.pro/ppms.js",r.parentNode.insertBefore(t,r)}(0,0,0,document)</script></footer></div>
</body>
</html>