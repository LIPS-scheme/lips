"use strict";(self.webpackChunknew_docs=self.webpackChunknew_docs||[]).push([[2866],{4624:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"lips/embeding-repl","title":"Embedding LIPS REPL","description":"Embedding the LIPS Scheme REPL","source":"@site/docs/lips/embeding-repl.md","sourceDirName":"lips","slug":"/lips/embeding-repl","permalink":"/docs/lips/embeding-repl","draft":false,"unlisted":false,"editUrl":"https://github.com/LIPS-scheme/lips/tree/master/docs/docs/lips/embeding-repl.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"description":"Embedding the LIPS Scheme REPL"},"sidebar":"tutorialSidebar","previous":{"title":"SRFI","permalink":"/docs/lips/SRFI"}}');var r=i(4848),t=i(8453);const l={sidebar_position:9,description:"Embedding the LIPS Scheme REPL"},c="Embedding LIPS REPL",a={},d=[{value:"A HTML Web page",id:"a-html-web-page",level:2},{value:"Create placeholder for the REPL",id:"create-placeholder-for-the-repl",level:2},{value:"Include main LIPS file",id:"include-main-lips-file",level:2},{value:"Include jQuery",id:"include-jquery",level:2},{value:"Include jQuery Terminal library",id:"include-jquery-terminal-library",level:2},{value:"Include Terminal LIPS REPL files",id:"include-terminal-lips-repl-files",level:2},{value:"Include Prism files",id:"include-prism-files",level:2},{value:"JavaScript code",id:"javascript-code",level:2},{value:"Working Demo",id:"working-demo",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"embedding-lips-repl",children:"Embedding LIPS REPL"})}),"\n",(0,r.jsx)(n.p,{children:"To embed the LIPS REPL you need on your website you need:"}),"\n",(0,r.jsx)(n.h2,{id:"a-html-web-page",children:"A HTML Web page"}),"\n",(0,r.jsx)(n.p,{children:"First you need to have a website where you want to embed the REPL. You can create simple HTML page\nif you don't have one already:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<!DOCTYPE html>\n<html>\n  <head>\n    <title>LIPS Scheme REPL</title>\n  </head>\n  <body>\n  </body>\n</html>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"create-placeholder-for-the-repl",children:"Create placeholder for the REPL"}),"\n",(0,r.jsx)(n.p,{children:"Then you need to create a div that will hold the REPL UI."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<div id="term"></div>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["I usually name it ",(0,r.jsx)(n.code,{children:"term"})," from terminal, because the REPL use ",(0,r.jsx)(n.a,{href:"https://terminal.jcubic.pl/",children:"jQuery\nTerminal"})," library. You don't need to use ",(0,r.jsx)(n.code,{children:"id"}),", you can create any div you\nwant, but you should be able to target it specifically with\n",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors",children:"CSS selector"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["If you want full screen terminal you don't need to use the ",(0,r.jsx)(n.code,{children:"<div>"})," and use ",(0,r.jsx)(n.code,{children:"<body>"})," tag when\ncreating the terminal.  It's described how at the end of the document."]}),"\n",(0,r.jsx)(n.h2,{id:"include-main-lips-file",children:"Include main LIPS file"}),"\n",(0,r.jsx)(n.p,{children:"Then you need to include LIPS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/npm/@jcubic/lips@beta/dist/lips.min.js" bootstrap><\/script>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Make sure you include ",(0,r.jsx)(n.code,{children:"bootstrap"})," attribute, with it LIPS will load its standard library that is\nwritten in Scheme."]}),"\n",(0,r.jsxs)(n.p,{children:["If you want to have access to filesystem functions (",(0,r.jsx)(n.a,{href:"/docs/scheme-intro/input-output",children:"IO ports"}),") you\nneed to include browserFS before LIPS:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/npm/browserfs@1.x.x/dist/browserfs.min.js"><\/script>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"include-jquery",children:"Include jQuery"}),"\n",(0,r.jsxs)(n.p,{children:["jQuery is a dependency for the ",(0,r.jsx)(n.a,{href:"https://terminal.jcubic.pl/",children:"jQuery Terminal"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/npm/jquery"><\/script>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"include-jquery-terminal-library",children:"Include jQuery Terminal library"}),"\n",(0,r.jsx)(n.p,{children:"This is main library that add Terminal look and feel:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/npm/jquery.terminal/js/jquery.terminal.min.js"><\/script>\n<link href="https://cdn.jsdelivr.net/npm/jquery.terminal/css/jquery.terminal.min.css" rel="stylesheet"/>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"include-terminal-lips-repl-files",children:"Include Terminal LIPS REPL files"}),"\n",(0,r.jsx)(n.p,{children:"This is the main code that use jQuery Terminal and its features to implement the REPL:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<link href="https://cdn.jsdelivr.net/npm/@jcubic/lips@beta/lib/css/terminal.css"\n      rel="stylesheet"/>\n<script src="https://cdn.jsdelivr.net/npm/@jcubic/lips@beta/lib/js/terminal.js"><\/script>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"include-prism-files",children:"Include Prism files"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://prismjs.com/",children:"PrismJS"})," is a library that you can use for the syntax highlighting. It has\ngeneric Scheme support, but LIPS tweak that a bit and add support for LIPS Scheme specific syntax\nlike literal Regular Expressions, or object literals."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<script src="https://cdn.jsdelivr.net/combine/npm/prismjs/prism.js,npm/jquery.terminal/js/prism.js,npm/prismjs/components/prism-scheme.min.js"><\/script>\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/terminal-prism/css/prism-coy.css"/>\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"terminal-prism"})," npm package contain versions of the Prism CSS that is transformed for the jQuery Terminal."]}),"\n",(0,r.jsx)(n.h2,{id:"javascript-code",children:"JavaScript code"}),"\n",(0,r.jsx)(n.p,{children:"This is the code that use features of jQuery Terminal and main Terminal LIPS code to create the working REPL:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Scheme syntax highlighting\n$.terminal.syntax('scheme');\n\nconst term = terminal({\n    selector: '#term', // you can use body for full screen terminal\n    dynamic: false, // dynamic scope, to have normal Scheme you should use false\n    name: 'demo', // name of the terminal if you want multiple REPL on same page\n    lips // LIPS namespace\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"If you want LIPS greeting like in lips website you can also add this code:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// LIPS Greetings\nconst intro = `(\u03bb LIPS) version ${lips.version}\nCopyright (c) 2018-${new Date().getFullYear()} [[!;;;;https://jcubic.pl/me]Jakub T. Jankiewicz]\nType (env) to see environment with functions macros and variables\nYou can also use (help obj)to display help for specific function or macro.\nUse (dir name) to get list of JavaScript properties and (apropos name)\nto display list of matched names in environment.\n`\n// use same highlight for names in RegEx, so they are in color and have doc strings\nterm.echo(intro.replace(/(\\((?:env|dir|help|apropos)[^)]*\\))/g, function(code) {\n    return $.terminal.prism('scheme', code, { echo: true });\n}), {\n    formatters: false\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"working-demo",children:"Working Demo"}),"\n",(0,r.jsxs)(n.p,{children:["Here is a working ",(0,r.jsx)(n.a,{href:"https://codepen.io/jcubic/pen/OJepZbd",children:"Codepen REPL Demo"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var s=i(6540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);